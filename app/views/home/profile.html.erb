<div class="container py-5">
  <div class="row justify-content-center">
    <div class="col-12 col-sm-8 col-md-6 col-lg-4">
      <div class="card shadow-sm p-4 bg-light text-center">

        <% if current_user.avatar.attached? %>
          <%= image_tag current_user.avatar.variant(resize_to_limit: [140, 140]),
                        width: 140, height: 140,
                        class: "rounded-circle mx-auto d-block mb-3" %>
        <% else %>
          <%= image_tag "default-avatar.png",
                        width: 140, height: 140,
                        class: "rounded-circle mx-auto d-block mb-3" %>
        <% end %>

        <h5 class="mb-0"><%= current_user.first_name %> <%= current_user.last_name %></h5>
        <p  class="text-muted mb-3"><%= current_user.phone %></p>

        <% if current_user.avatar.attached? %>
          <%= button_to "Delete photo",
                        delete_avatar_path,
                        method: :delete,
                        class: "btn btn-outline-danger btn-sm w-100 mb-3" %>
        <% else %>
          <%= form_with model: current_user,
                        url: upload_avatar_path,
                        method: :patch,
                        local: true,
                        html: { multipart: true } do |f| %>

            <div class="mb-2">
              <%= f.file_field :avatar, class: "form-control form-control-sm" %>
            </div>
            <%= f.submit "Upload photo", class: "btn btn-primary btn-sm w-100 mb-3" %>
          <% end %>
        <% end %>
        <% if current_user.doctor? %>
          <div class="d-grid gap-2">
            <%= link_to "Appointments", appointments_path, class: "btn btn-outline-primary" %>
          </div>
        <% else %>
          <div class="d-grid gap-2">
            <%= link_to "Doctors", doctors_path, class: "btn btn-outline-primary" %>
            <%= link_to "Appointments", appointments_path, class: "btn btn-outline-primary" %>
          </div>
        <% end %>
      </div>
    </div>
  </div>
</div>




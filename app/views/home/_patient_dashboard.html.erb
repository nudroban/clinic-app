<h4 class="mb-4">Welcome patient!</h4>
<%= render 'home/patient_tabs' %>

<div class="tab-content mt-3" id="mainTabsContent">
  <div class="tab-pane fade show active"
       id="pane-categories"
       role="tabpanel"
       aria-labelledby="tab-categories">

    <div class="accordion" id="categoriesAccordion">
      <% @categories.each do |category| %>
        <div class="accordion-item">
          <h2 class="accordion-header" id="heading-<%= category.id %>">
            <button class="accordion-button collapsed"
                    type="button"
                    data-bs-toggle="collapse"
                    data-bs-target="#collapse-<%= category.id %>"
                    aria-expanded="false"
                    aria-controls="collapse-<%= category.id %>">
              <%= category.name %>
            </button>
          </h2>

          <div id="collapse-<%= category.id %>"
               class="accordion-collapse collapse"
               aria-labelledby="heading-<%= category.id %>"
               data-bs-parent="#categoriesAccordion">
            <div class="accordion-body p-0">
              <ul class="list-group list-group-flush">
                <% category.doctors.each do |doc| %>
                  <li class="list-group-item d-flex justify-content-between">
                    <span><%= "#{doc.first_name} #{doc.last_name}" %></span>
                    <%= link_to 'Create appointment', '#',
                                class: 'btn btn-outline-primary btn-sm' %>
                  </li>
                <% end %>

                <% if category.doctors.empty? %>
                  <li class="list-group-item text-muted fst-italic">
                    Empty category
                  </li>
                <% end %>
              </ul>
            </div>
          </div>
        </div>
      <% end %>
    </div>
  </div>

  <div class="tab-pane fade"
       id="pane-other"
       role="tabpanel"
       aria-labelledby="tab-other">

    <h4 class="mb-3">No recommendations</h4>
  </div>
</div>

